# Assn_DIYDistribute
This Repository will simulate a Distribution app using tcp in java code

This is a program that will simulate a distribution application that calculates
the sum of a large data set.This program contains two files for operation and a third file that a user will choose to be operated on. The two files that will be used for operation will be DIYAppWorker.java and DIYAppController.java. The third file is a .dat file of the users choosing that contains nothing but one float value per line. The two operating files are more complicated.
The first file we will talk about is the DIYAppController. The Controller starts by entering a server port to open for arguments of the main thread. The server port may range between [1000,7000] . After the port is configured the user is then prompted for a .dat file. Friendly reminder that the only files this program takes is a file that has one float value per line. The operation performed on the file uses a few values int workAmount = 8000 ,int MAX_WORK_LOAD = 50; int TIME = 500, Double sum = 0.0d, AtomicInteger num = 0, LinkedBlockingQueue<ArrayList<String>> queuedwork. “workAmount” is the amount of work each packet being sent will contain, “TIME" is the amount of time each thread will sleep, “Sum” is the storage value of the accumulated Partial sums being sent back, “num” is the id and count of each thread working on the project, and “queuedwork” is a shared resource that hold all the data from the file.With the given values the DIYAppController file is able to create a server /client threads and establish connections between the two.The main thread will be used to replenish the shared data container when it gets low. The server or “boss thread” will create a serverSocket and accept any connections available. The class “Operator” handles this and the worker threads. The boss thread is given the id 0 and worker thread are given any value greater than 0. The worker threads job is to handle communication between the clients.The messages sent is an object that contains an arraylist of “workAmount” sized packets. Each send and receive is acknowledged by both client and sever.
The second file to discuss is the DIYAppWorker. This file represents the client side of the operation. After DIYController has set up the server the client will connect and initiate message passing between the sever and client.When a worker receives the message “0 ” it will send
“done ” to the server telling the server to decrement its thread counter and the worker will terminate. The operation is pretty simple.
To operate this program you will start the DIYAppController and when prompted enter a port number to run the server off of. If the server port number provided is accepted you will be prompted to enter a file name to be processed. Once the file is accepted you will be told “Setting up data before opening server” and when data from the file is done you will be told “ Server is open”. You will then open another terminal or another commuter’s terminal and run the DIYAppWorker file. When this file starts you will be prompted to enter an Ip address and a port number. Once entered the Server will print out the acceptance of the new client and will print its id. After the thread starts message passing begins printing out every send and receive receipt. The client will show how much it has gathered and the total sent for each iteration of the packets that it receives and the server will show when work is waiting and gathering packets.The server will also tell when the amount of data being sent out is getting low (when the workers are done) and the final sum collected from all threads.
